$(document).ready((function(){var urlLastSegment=window.location.pathname.split("/").pop();function sideCartAppend(){$.ajax({type:"GET",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/side-cart",success:function(response){$(".side_cart").empty(),$(".side_cart").html(response)}})}function loadMoreData(){var total_products=$("#totalProducts").val(),offset=$("#loading_offset").val(),btnHtml=$(".load-more-product").html();total_products>offset&&($(".load-more-product").html("Please wait..!"),$.ajax({type:"POST",data:$("#filter-form").serialize(),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/product-load-more",success:function(response){0!=response?($(".appendHere"+offset).after(response).remove(),$(".more-section-"+offset).remove(),$(".load-more-product").html(btnHtml)):Toast.fire({title:"Error",text:"Some error occurred",icon:"error"})}}))}function blogLoadMoreData(){var total_blogs=$("#totalBlogs").val(),offset=$("#blog_loading_offset").val(),loading_limit=$("#blog_loading_limit").val(),btnHtml=$(".load-more-product").html();$(".load-more-button").html("Please wait..!"),$.ajax({type:"POST",data:{total_blogs:total_blogs,offset:offset,loading_limit:loading_limit},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/blog-load-more",success:function(response){0!=response?($(".appendHere_"+offset).after(response).remove(),$(".more-section-"+offset).remove(),$(".load-more-product").html(btnHtml)):swal.fire({title:"Error",text:"Some error occurred",icon:"error"})}})}function filterProducts(){var fields=[];$(".filterItem").each((function(){1==$(this).prop("checked")&&fields.push($(this).data("field"))})),$("#input_field").val($.unique(fields.sort())),$.ajax({type:"POST",dataType:"html",data:$("#filter-form").serialize(),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/filter-product",success:function(response){$("#tags").show(),$(".productList").html(response),Toast.fire("Done it!","Filter Applied","success")}})}function select2(){$(".select2").select2({theme:"bootstrap4",minimumResultsForSearch:-1})}function desktopSearch(search_param){search_param&&$.ajax({type:"POST",dataType:"json",data:{search_param:search_param},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/main-search",success:function(response){if(1==response.status){var resp=response.message,len=response.message.length;if(len>0){$("#search-result-append-here").html("");for(var i=0;i<len;i++){var id=resp[i].id,title=resp[i].title,price=resp[i].price,offer_price=resp[i].offer_price,image=resp[i].image,link,result="<li><a href="+resp[i].link+" class='flxBx'><div class='row flxBx'><div class='col-lg-2 col-md-3 col-4 imgBx'><img src='"+image+"' alt=''></div><div class='col-lg-10 col-md-9  col-8 txtBx' style='padding-left: 25px;'><div class='name'>"+title+"</div>";result+=""!=offer_price?"<div class='d-flex align-items-center'><div class='price'>"+offer_price+"</div><div class='fullPrice'>"+price+"</div></div>":"<div class='d-flex align-items-center'><div class='price'>"+price+"</div></div>",result+="</div></div></a></li>",$("#search-result-append-here").append(result),$("#Header .FlexRow .rit_bx .search-box .search-input:focus ~ .searchResult").css({height:"auto"})}$(".searchResult").show()}else{var result="<li class='disableClick'><div class='flxBx'><div class='txtBx'><div class='name'>No Results Found</div></div></div></li>";$("#search-result-append-here").html(result),$("#Header .FlexRow .rit_bx .search-box .search-input:focus ~ .searchResult").css({height:"0px"})}}else Toast.fire("Error","Error while retrieving the search results","error")}})}$(".my-rating-readonly").starRating({totalStars:5,starShape:"rounded",starSize:15,emptyColor:"lightgray",hoverColor:"#F3DB01",activeColor:"#F3DB01",useGradient:!1,readOnly:!0}),$(".my-rating").starRating({totalStars:5,starSize:20,emptyColor:"lightgray",hoverColor:"#F3DB01",activeColor:"lightgray",useGradient:!1,disableAfterRate:!1,ratedColor:"#F3DB01",emptyColor:"lightgray",useFullStars:!0,callback:function(currentRating,$el){$(".rating").val(currentRating),console.log("DOM element ",$el)}}),$(".rtl-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".rtl-slider-nav"}),$(".rtl-slider-nav").slick({slidesToShow:4,slidesToScroll:1,vertical:!0,asNavFor:".rtl-slider",centerMode:!1,focusOnSelect:!0,prevArrow:".thumb-prev",nextArrow:".thumb-next"}),$(".navigation-link").on("mouseover",(function(){$(this).css({cursor:"pointer"})})),$(".navigation-link").on("click",(function(){var link=$(this).data("url"),type=$(this).data("type");window.location.href=base_url+"/"+type+"/"+link})),$(document).mouseup((function(e){var container=$("#product-main-search");container.is(e.target)||0!==container.has(e.target).length||$(".results").hide()})),$(document).on("keyup","#product-main-search",(function(){var search_param=$(this).val(),_token=token;$.ajax({type:"POST",dataType:"json",data:{search_param:search_param,_token:_token},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/main-product-search",success:function(response){if(1==response.status){var resp=response.message,len=response.message.length;if(len>0){$("#search-result-append-here").html("");for(var i=0;i<len;i++){var id=resp[i].id,title=resp[i].title,price=resp[i].price,image=resp[i].image,link,result="<li><a href="+resp[i].link+" class='flxBx'><div class='row flxBx'><div class='col-md-3 imgBx'><img src='"+image+"' alt=''></div><div class='col-md-9 txtBx'><div class='name'>"+title+"</div><div class='price'>"+price+"</div></div></div></a></li>";$("#search-result-append-here").append(result),$("#Header .FlexRow .rit_bx .search-box .search-input:focus ~ .results").css({height:"auto"})}$(".results").show()}else{var result="<li class='disableClick'><div class='flxBx'><div class='txtBx'><div class='name'>No Results Found</div></div></div></li>";$("#search-result-append-here").html(result),$("#Header .FlexRow .rit_bx .search-box .search-input:focus ~ .results").css({height:"0px"})}}else $.notify("Error while retrieving the filter results","error")}})})),$(document).on("keyup","#product-main-search-mobile",(function(){var search_param=$(this).val(),_token=token;$.ajax({type:"POST",dataType:"json",data:{search_param:search_param,_token:_token},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/main-product-search",success:function(response){if(1==response.status){var resp=response.message,len=response.message.length;if(len>0){$("#search-result-append-here-mobile").html("");for(var i=0;i<len;i++){var id=resp[i].id,title=resp[i].title,price=resp[i].price,image=resp[i].image,link,result="<li><a href="+resp[i].link+" class='flxBx'><div class='flxBx'><div class='imgBx'><img src='"+image+"' alt=''></div><div class='txtBx'><div class='name'>"+title+"</div><div class='price'>"+price+"</div></div></div></a></li>";$("#search-result-append-here-mobile").append(result),$("#Header .FlexRow .rit_bx .search-box .search-input:focus ~ .results").css({height:"auto"})}$(".results").show()}else{var result="<li class='disableClick'><div class='flxBx'><div class='txtBx'><div class='name'>No Results Found</div></div></div></li>";$("#search-result-append-here-mobile").html(result),$("#Header .FlexRow .rit_bx .search-box .search-input:focus ~ .results").css({height:"0px"})}}else $.notify("Error while retrieving the filter results","error")}})})),$("#dropDown").click((function(){$(".drop-down").toggleClass("drop-down--active")})),$(document).on("change",".lang-change",(function(){var language=$(this).find(":selected").data("lang"),language_code=$(this).find(":selected").data("lang_code");$.ajax({type:"POST",dataType:"json",data:{language:language,language_code:language_code},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/set-language",success:function(response){!0===response.status?swal({title:"",text:response.message,type:"success"},(function(){window.location.reload()})):swal({title:"Error",text:"Can't change the language",type:"error"})}})})),$(document).on("click",".tabLink",(function(){var tab;"wishlist"==$(this).data("tab")?$("#latestProductsList").show():$("#latestProductsList").hide()})),$(document).on("click",".product-review-form-btn",(function(e){e.preventDefault();var required=[];if($(".product-review-required").each((function(){var id=$(this).attr("id");console.log($("#"+id).val());var id_text=$(this).attr("placeholder");""==$("#"+id).val()?(required.push($("#"+id).val()),$("#"+id).css({border:"1px solid #FF0000"}),$("."+id).removeClass("d-none")):$("#"+id).css({border:"1px solid #d0d0d0"})})),console.log(required.length),0==required.length){if($("#email").length>0)var email=$("#email").val();else var email="review@elitco.com";var regex;/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(email)?($(".with-errors").html(""),$.ajax({type:"POST",dataType:"json",data:$(".product-review-form").serialize(),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/submit-review",success:function(response){if("true"==response.status){$("#successModal").modal("show"),document.getElementById("myspan").innerHTML=response.message;const myTimeout=setTimeout(myGreeting,2e3);function myGreeting(){$("#successModal").delay(2e3).fadeOut(),window.location.reload()}}else"error"==response.status&&$("#email_error").html("Please enter a valid email ID").css({"border-color":"1px solid #FF0000"})}})):$("#email_error").css({border:"1px solid #FF0000"})}})),$(document).on("click","#review-form-btn",(function(e){e.preventDefault();var required=[];if($(".review-required").each((function(){var id=$(this).attr("id");console.log(id);var id_text=$(this).attr("placeholder");""==$("#"+id).val()?(required.push($("#"+id).val()),$("#"+id).css({border:"1px solid #FF0000"})):$("#"+id).css({border:"1px solid #d0d0d0"})})),console.log(required),0==required.length){if($("#email").length>0)var email=$("#email").val();else var email="review@elitco.com";var regex;/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(email)?($(".with-errors").html(""),$.ajax({type:"POST",dataType:"json",data:$("#review-form").serialize(),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/submit-review",success:function(response){if("true"==response.status){$("#successModal").modal("show"),document.getElementById("myspan").innerHTML=response.message;const myTimeout=setTimeout(myGreeting,2e3);function myGreeting(){$("#successModal").delay(2e3).fadeOut(),window.location.reload()}}else"error"==response.status?$("#email_error").html("Please enter a valid email ID").css({"border-color":"1px solid #FF0000"}):swal({title:response.status,text:response.message,type:response.status})}})):$("#email_error").css({border:"1px solid #FF0000"})}})),$(document).on("click",".contact_form_btn",(function(e){e.preventDefault();var buttonText=$(this).html(),url=$(this).data("url"),form_id=$(this).closest("form").attr("id"),modal_id=$(this).closest(".modal").attr("id"),formData=new FormData(document.getElementById(form_id)),errors=!1;$("form input, form textarea").removeClass("is-invalid is-valid"),$("span.error").remove(),$("#"+form_id+" .required").each((function(k,v){var field_name=$(v).attr("name");if($(v).val().length){var regex;if("email"===field_name)/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(v).val())||(errors=!0,msg='<span class="error invalid-feedback " style="color: red" for="email">Please enter a valid email address</span>',$("#"+form_id).find('input[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg))}else{errors=!0;var error,msg='<span class="error invalid-feedback " style="color: red" for="'+field_name+'">'+("Please enter <strong>"+field_name+"</strong>.")+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], textarea[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}})),errors||($(".contact_form_btn").html(waitText),$.ajax({type:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,data:formData,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+url}).done((function(response){if($(".contact_form_btn").html(buttonText),"success"===response.status){$("#"+form_id)[0].reset(),modal_id&&$("#"+modal_id).hide(),$("#successModal").modal("show"),document.getElementById("myspan").innerHTML=response.message;const myTimeout=setTimeout(myGreeting,2e3);function myGreeting(){$("#successModal").delay(2e3).fadeOut(),window.location.reload()}}else"login-success"==response.status?swal({title:"Success!",text:response.message,type:"success"},(function(){$("#"+form_id)[0].reset(),location.reload()})):swal({title:response.status,text:response.message,type:response.status})})).fail((function(response){$(".contact_form_btn").html(buttonText),$.each(response.responseJSON.errors,(function(field_name,error){var msg='<span class="error invalid-feedback" for="'+field_name+'">'+error+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], select[name="'+field_name+'"], textarea[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}))})))})),$(document).on("click",".apply_job",(function(){var id=$(this).data("id");$("#job_id").val(id)})),$("#proceed_to_checkout").on("click",(function(){window.location.href=base_url+"/checkout"})),$(document).on("click",".service_enquiry_btn",(function(){var id=$(this).data("id");$("#service_id").val(id)})),$(document).on("click","#change_password_btn",(function(){"block"===$("#editPro").css("display")?($(this).html(editProfile),$("#editPro").css("display","none"),$("#editPass").css("display","block")):($(this).html(changePassword),$("#editPro").css("display","block"),$("#editPass").css("display","none"))})),$(".cartBtn").on("click",(function(){$(this).hasClass("out-of-stock")&&swal.fire({title:"Oops",text:"Sorry, this product is out of stock.",type:"error"})})),$(".outOfStock").on("click",(function(){swal.fire({title:"Oops",text:"Sorry, this product is out of stock.",type:"error"})})),$(document).on("click",".cart-action",(function(){var size,type_id,frame_id,mount;if(null==(size=$(".size.active").data("id")))var size=$(this).data("size");else var size=$(".size.active").data("id");if(null==(type_id=$(".size.active").data("product_type_id")))var type_id=$(this).data("product_type_id");else var type_id=$(".size.active").data("product_type_id");if(null==(frame_id=$(".frame.active").data("id")))var frame_id=$(this).data("frame");else var frame_id=$(".frame.active").data("id");if(null==(mount=$(".mount.active").data("mount")))var mount=$(this).data("Yes");else var mount=$(".mount.active").data("mount");var checkout=$(this).data("checkout"),cartText=$(".cart-action-span").html(),id=$(this).data("id"),qty=$(".qty").val(),cartText=$(".cart-action-span").html();if(null==$(this).data("relative"))var countRelative=1;else var countRelative=0;var attrArray=[];$(".attrSelect").each((function(){var attrId=$(this).val(),attrLabel,combined=$(this).data("label")+" : "+attrId;attrArray.push(combined)}));var attributeList=attrArray.join(",");$(".cart-action-span").html("Loading.."),$.ajax({type:"POST",dataType:"json",data:{size:size,type_id:type_id,product_id:id,qty:qty,countRelative:countRelative,attributeList:attributeList,frame_id:frame_id,mount:mount},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/add-cart",success:function(response){if($(".cart-action-span").html(cartText),$(".cart-count").html(response.count),1==response.status){if(1==checkout)window.location.href=base_url+"/checkout";else{if($(".count").html(response.count),$(".cartCount").html(response.count),$(".cartTotal").html(response.cartTotal),/[,\-]/.test(id)){var idArray=id.split(","),i;for(i=0;i<idArray.length;++i)$("#addoncheck"+idArray[i]).prop("disabled",!0),$("#wishlist_check_"+idArray[i]).removeClass("fill"),$("#wishlistBox_"+idArray[i]).remove()}else $("#wishlist_check_"+id).removeClass("fill"),$("#wishlistBox_"+id).remove();Toast.fire({title:"",text:response.message,icon:"success"}),"cart"!=urlLastSegment&&"checkout"!=urlLastSegment&&"profile"!=urlLastSegment&&"wishlist"!=urlLastSegment||location.reload()}sideCartAppend()}else swal.fire({title:"Oops",text:response.message,icon:"error"})}})})),$(document).on("click",".remove-cart-item",(function(){var id=$(this).data("id");$.ajax({type:"POST",dataType:"json",data:{cart_id:id},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/remove-cart-item",success:function(response){1==response.status?($(".successModalForm").modal("show"),$("#myspan").html(response.message),setTimeout(()=>{location.reload()},800)):Toast.fire("Error",response.message,"error")}})})),$(document).on("click",".login-popup",(function(){var id=$(this).data("id");$("#wishlist_check_"+id).removeClass("fill"),Toast.fire({title:"Oops",text:"Please login for wish listing a product",icon:"error"})})),$(document).on("change",".cartQuantity",(function(){var id=$(this).data("id"),product_id=$(this).data("product_id"),qty=$(this).val(),size=$(this).data("size");$.ajax({type:"POST",dataType:"json",data:{product_id:product_id,qty:qty,size:size,id:id},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/update-item-quantity",success:function(response){$(".cart-error").html(""),$(".cart-success").html(""),1==response.status?(Toast.fire({title:"",text:response.message,icon:"success"}),$(".cart-success").html(""),$(".cart-success").html('<i class="fa fa-check" aria-hidden="true"></i>'+response.message),$(".cart-count").html(response.productCount)):($(".cart-error").html('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>'+response.message),Toast.fire("Error",response.message,"error")),setTimeout(()=>{$(".cart-error").html(""),$(".cart-success").html("")},800)}})})),$(document).on("change",".cartQuantity",(function(){var id=$(this).data("id"),product_id=$(this).data("product_id"),qty=$(this).val(),size=$(this).data("size");qty>=1?$.ajax({type:"POST",dataType:"json",data:{product_id:product_id,qty:qty,size:size,id:id},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/get-calc-value",success:function(response){1==response.status?(console.log(response),$(".sub_totall").html(response.default_currency+" "+response.cart),$(".tax_amount").html(response.default_currency+" "+response.tax_amount),$(".cart_final_total").html(response.default_currency+" "+response.cart_final_total),$(".shipping_amount").html(response.default_currency+" "+response.shipping_amount),$(".price"+id).html(response.default_currency+" "+response.total)):(Toast.fire("Error",response.message,"error"),$this.val(response.qty))}}):($this.val(1),Toast.fire("Error","Quantity must be minimum 1","error"))})),$(document).on("click",".form_submit_btn",(function(e){e.preventDefault(),$this=$(this);var buttonText=$this.html(),url=$this.data("url"),form_id=$this.closest("form").attr("id"),modal_id=$this.closest(".modal").attr("id"),formData=new FormData(document.getElementById(form_id)),errors=!1;$("form input, form textarea").removeClass("is-invalid is-valid"),$("span.error").remove(),$("#"+form_id+" .required").each((function(k,v){var field_name=$(v).attr("name");if($(v).val().length){var regex;if("email"===field_name)/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(v).val())||(errors=!0,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="email">Please enter a valid email address</span>',$("#"+form_id).find('input[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg))}else{errors=!0;var error,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="'+field_name+'">'+("Please enter <strong>"+field_name+"</strong>.")+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], textarea[name="'+field_name+'"], select[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}})),errors||($this.html("Please Wait.."),$.ajax({type:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,data:formData,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+url}).done((function(response){if(console.log(response),$this.html(buttonText),$("#"+form_id)[0].reset(),modal_id&&$("#"+modal_id).modal("hide"),"success"==response.status){$(".successModalForm").modal("show"),document.getElementById("myspan").innerHTML=response.message;const myTimeout=setTimeout(myGreeting,4e3);function myGreeting(){$(".successModalForm").delay(4e3).fadeOut()}}else"success-reload"==response.status?($(".successModalForm").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$(".successModalForm").modal("hide")}),800),response.redirect?window.location.href=response.redirect:setTimeout(()=>{location.reload()},1e3)):($(".successModalForm").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$(".successModalForm").modal("hide")}),800));setTimeout(()=>{location.reload()},1e3)})).fail((function(response){$this.html(buttonText),$.each(response.responseJSON.errors,(function(field_name,error){var msg='<span class="error invalid-feedback invalidMessage" for="'+field_name+'">'+error+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], select[name="'+field_name+'"], textarea[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}))})))})),$(document).on("click",".registerform_submit_btn",(function(e){e.preventDefault(),$this=$(this);var buttonText=$this.html(),url=$this.data("url"),form_id=$this.closest("form").attr("id"),modal_id=$this.closest(".modal").attr("id"),formData=new FormData(document.getElementById(form_id));console.log(formData);var errors=!1;$("form input, form textarea").removeClass("is-invalid is-valid"),$("span.error").remove(),$("#"+form_id+" .required").each((function(k,v){var field_name=$(v).attr("name");if($(v).val().length){var regex;if("email"===field_name)/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(v).val())||(errors=!0,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="email">Please enter a valid email address</span>',$("#"+form_id).find('input[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg))}else{errors=!0;var error,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="'+field_name+'">'+("Please enter <strong>"+field_name+"</strong>.")+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], textarea[name="'+field_name+'"], select[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}})),errors||($this.html("Please Wait.."),$.ajax({type:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,data:formData,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+url}).done((function(response){console.log(response),$this.html(buttonText),$("#"+form_id)[0].reset(),modal_id&&$("#"+modal_id).modal("hide"),"success"==response.status?($("#successModal").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$("#successModal").modal("hide"),$("#modal_close").on("hide.bs.modal",(function(event){window.location.href="/login"}))})),window.location.href("/")):"success-reload"==response.status?($("#successModal").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$(".successModal").modal("hide")}),2e3),response.redirect?window.location.href=response.redirect:setTimeout(()=>{location.reload()},1e3)):($(".successModalForm").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$(".successModalForm").modal("hide")}),2e3))})).fail((function(response){$this.html(buttonText),$.each(response.responseJSON.errors,(function(field_name,error){var msg='<span class="error invalid-feedback invalidMessage" for="'+field_name+'">'+error+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], select[name="'+field_name+'"], textarea[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}))})))})),$(document).on("click",".loginform_submit_btn",(function(e){e.preventDefault(),$this=$(this);var buttonText=$this.html(),url=$this.data("url"),form_id=$this.closest("form").attr("id"),modal_id=$this.closest(".modal").attr("id"),formData=new FormData(document.getElementById(form_id)),errors=!1;$("form input, form textarea").removeClass("is-invalid is-valid"),$("span.error").remove(),$("#"+form_id+" .required").each((function(k,v){var field_name=$(v).attr("name");if($(v).val().length){var regex;if("email"===field_name)/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(v).val())||(errors=!0,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="email">Please enter a valid email address</span>',$("#"+form_id).find('input[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg))}else{errors=!0;var error,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="'+field_name+'">'+("Please enter <strong>"+field_name+"</strong>.")+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], textarea[name="'+field_name+'"], select[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}})),errors||($this.html("Please Wait.."),$.ajax({type:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,data:formData,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+url}).done((function(response){console.log(response),$this.html(buttonText),$("#"+form_id)[0].reset(),modal_id&&$("#"+modal_id).modal("hide"),"success-reload"==response.status?(Toast.fire({title:"Success!",text:response.message,icon:"success"}),setTimeout(()=>{window.location.href=base_url},1e3)):"error2"==response.status?Toast.fire({title:"Success!",text:response.message,icon:"error"}):Toast.fire({title:"error!",text:response.message,icon:"error"})})).fail((function(response){$this.html(buttonText),$.each(response.responseJSON.errors,(function(field_name,error){var msg='<span class="error invalid-feedback invalidMessage" for="'+field_name+'">'+error+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], select[name="'+field_name+'"], textarea[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}))})))})),$(document).on("click",".forgotpasswdform_submit_btn",(function(e){e.preventDefault(),$this=$(this);var buttonText=$this.html(),url=$this.data("url"),form_id=$this.closest("form").attr("id"),modal_id=$this.closest(".modal").attr("id"),formData=new FormData(document.getElementById(form_id));console.log(formData);var errors=!1;$("form input, form textarea").removeClass("is-invalid is-valid"),$("span.error").remove(),$("#"+form_id+" .required").each((function(k,v){var field_name=$(v).attr("name");if($(v).val().length){var regex;if("email"===field_name)/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(v).val())||(errors=!0,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="email">Please enter a valid email address</span>',$("#"+form_id).find('input[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg))}else{errors=!0;var error,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="'+field_name+'">'+("Please enter <strong>"+field_name+"</strong>.")+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], textarea[name="'+field_name+'"], select[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}})),errors||($this.html("Please Wait.."),$.ajax({type:"POST",dataType:"json",cache:!1,contentType:!1,processData:!1,data:formData,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+url}).done((function(response){console.log(response),$this.html(buttonText),$("#"+form_id)[0].reset(),modal_id&&$("#"+modal_id).modal("hide"),"success"==response.status?($(".successModalForm").modal("show"),document.getElementById("myspan").innerHTML=response.message):"success-reload"==response.status?($(".successModalForm").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$(".successModalForm").modal("hide")}),1500),response.redirect?window.location.href=response.redirect:setTimeout(()=>{location.reload()},1500)):($(".successModalForm").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$(".successModalForm").modal("hide")}),800))})).fail((function(response){$this.html(buttonText),$.each(response.responseJSON.errors,(function(field_name,error){var msg='<span class="error invalid-feedback invalidMessage" for="'+field_name+'">'+error+"</span>";$("#"+form_id).find('input[name="'+field_name+'"], select[name="'+field_name+'"], textarea[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}))})))})),$(document).on("click",".review-form-btn",(function(e){e.preventDefault();var required=[];if($("form input, form textarea").removeClass("is-invalid is-valid"),$("span.error").remove(),$(".review-required").each((function(){var id=$(this).attr("id"),id_text=$(this).attr("placeholder");""==$("#"+id).val()?(required.push($("#"+id).val()),$("#"+id).css({"border-bottom":"1px solid #FF0000"})):$("#"+id).css({"border-bottom":"1px solid #d0d0d0"})})),$(".review-required").each((function(k,v){var field_name=$(v).attr("name");if($(v).val().length){var regex;if("email"===field_name)/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test($(v).val())||(errors=!0,msg='<span class="error invalid-feedback" style="color: red" for="email">Please enter a valid email address</span>',$("#reviewForm").find('input[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg))}else{errors=!0;var error,msg='<span class="error invalid-feedback invalidMessage" style="color: red" for="'+field_name+'">'+("Please enter <strong>"+field_name+"</strong>.")+"</span>";$("#reviewForm").find('input[name="'+field_name+'"], textarea[name="'+field_name+'"], select[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)}})),0==required.length){if($("#email").length>0)var email=$("#email").val();else var email="review@artymist.com";var regex;/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(email)?($(".with-errors").html(""),$.ajax({type:"POST",dataType:"json",data:$("#reviewForm").serialize(),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/submit-review",success:function(response){"true"==response.status?($("#reviewForm")[0].reset(),$("#reviewModal").modal("hide"),$(".successModalForm").modal("show"),$("#myspan").html(response.message),setTimeout((function(){$(".successModalForm").modal("hide")}),2e3)):"error"==response.status?$("#email_error").html("Please enter a valid email ID").css({"border-color":"1px solid #FF0000"}):$("#successModal").modal("show")}})):$("#email_error").css({border:"1px solid #FF0000"})}})),$(window).scroll((function(){$(".load-more-button").each((function(){var WindowTop=$(window).scrollTop(),WindowBottom=WindowTop+$(window).height(),ElementTop=$(this).offset().top,ElementBottom;ElementTop+$(this).height()<=WindowBottom&&ElementTop>=WindowTop&&blogLoadMoreData()})),$(".load-more-product").each((function(){var WindowTop=$(window).scrollTop(),WindowBottom=WindowTop+$(window).height(),ElementTop=$(this).offset().top,ElementBottom;ElementTop+$(this).height()<=WindowBottom&&ElementTop>=WindowTop&&loadMoreData()}))})),$(document).on("click",".address-form",(function(e){e.preventDefault();var id=$(this).data("id");$.ajax({type:"POST",dataType:"html",data:{id:id},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/customer/address-form",success:function(response){"0"!=response?($("#my_address_add_form").html(response),$("#my_address_list").addClass("d-none"),$("#my_address_add_form").removeClass("d-none")):swal.fire({title:"Error",text:"Error while load the form",icon:"error"})}})})),$(document).on("click",".checkprice",(function(){var id=$(this).data("id");$(".checkprice").removeClass("active"),$(this).addClass("active");var product_id=$(this).data("product_id"),product_type_id=$(this).data("product_type_id");$.ajax({type:"POST",dataType:"json",data:{id:id,product_id:product_id,product_type_id:product_type_id},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/product/check-price",success:function(response){null!=response.offerPrice?($(".offer_price").html(response.offerPrice),$(".product_price").html(response.productPrice)):($(".offer_price").html(response.productPrice),$(".product_price").html("")),"In Stock"==response.availabilty?($(".cartBtn").removeClass("out-of-stock"),$(".cartBtn").addClass("cart-action"),$(".outstock").addClass("d-none"),$(".instock").addClass("d-none")):($(".cartBtn").addClass("out-of-stock"),$(".cartBtn").removeClass("cart-action"),$(".outstock").addClass("d-none"),$(".instock").html(""),$(".instock").append(""),$(".instock").append("Out of Stock"),$(".instock").removeClass("d-none")),"0"!=response||swal.fire({title:"Error",text:"Error while load the form",icon:"error"})}})})),$(document).on("click","#add_address_gos",(function(){$("#my_address_add_form_")[0].reset(),"block"===$("#my_address_list").css("display")?($("#my_address_list").addClass("d-none"),$("#my_address_add_form").removeClass("d-none")):($("#my_address_list").removeClass("d-none"),$("#my_address_add_form").addClass("d-none"))})),$(document).on("change","#shipping_country",(function(){console.log("yes");var country_id=$(this).val();console.log(country_id),console.log("yes"),country_id&&$.ajax({type:"POST",dataType:"json",url:base_url+"/state-list",data:{country_id:country_id},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(data){0==data.status?Toast.fire("Error",data.message,"error"):data.states.length>0?($("#shipping_state").empty(),$("#shipping_state").append('<option value="">Select State</option>'),$.each(data.states,(function(key,value){$("#shipping_state").append('<option value="'+value.id+'">'+value.title+"</option>")}))):$("#shipping_state").append('<option value="">No States Available</option>')}})})),$(document).on("change","#billing_country",(function(){var country_id=$(this).val();country_id&&$.ajax({type:"POST",async:!1,dataType:"json",url:base_url+"/b-state-list",data:{country_id:country_id},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(data){0==data.status?Toast.fire("Error !",data.message,"error"):data.states.length>0?($("#billing_state").empty(),$("#billing_state").append('<option value="">Select State</option>'),$.each(data.states,(function(key,value){$("#billing_state").append('<option value="'+value.id+'">'+value.title+"</option>")}))):$("#billing_state").append('<option value="">No States Available</option>')}})})),$(document).on("click",".remove-address",(function(){var address_id=$(this).data("id");swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,showConfirmButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1}).then(result=>{result.isConfirmed?$.ajax({type:"POST",dataType:"json",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/customer/delete-address",data:{address_id:address_id},success:function(data){"error"==data.status?swal.fire("Error !",data.message,"error"):($("#address"+address_id).remove(),Toast.fire({title:"Success",text:data.message,icon:"success"}),setTimeout(()=>{window.location.href=base_url+"/customer/account/address"},1e3))}}):Toast.fire("Cancelled","Entry remain safe :)","warning")})})),$(document).on("change","#priceRangeMin, #priceRangeMax, #priceInputMin, #priceInputMax",(function(){filterProducts()})),$(".clear").on("click",(function(){$(".filterItems .fltr").remove(),$(".filterItem").prop("checked",!1),null!=$("#filterResult").html()&&""!=$("#filterResult").html()||($(".filteredContents").hide(),$("#tags").hide()),Toast.fire("Done it!","Filter cleared","success"),window.location.reload()})),$(document).on("click",".clearFiltered",(function(){var id=$(this).data("id");$(this).closest(".filterItems .fltr").remove(),$("#"+id).prop("checked",!1),null!=$("#filterResult").val()&&""!=$("#filterResult").val()||($("#tags").hide(),$(".filteredContents").hide()),filterProducts()})),$(".filterItem").on("click",(function(){$(this).closest(".colorItemFilterClick").toggleClass("active"),$(this).closest(".shapeFilterClick").toggleClass("active"),$(this).closest(".tagFilterClick").toggleClass("active");var parent=$(this).data("parent");null!=parent&&$("#Category_"+parent).prop("checked",!0),0==$(this).prop("checked")&&$("#Category_"+parent).prop("checked",!1);var label=$(this).data("label"),title=$(this).data("title"),id=$(this).val();1==$(this).prop("checked")?($(".filteredContents").show(),$("#filterResult").append('<div class="fltr" id="item'+id+'"> <div class="txt">'+label+": "+title+'</div><button class="btn clearFiltered" data-id="'+label+"_"+id+'"><i class="fa-solid fa-xmark"></i> </button> </div>')):($("#item"+id).remove(),null!=$("#filterResult").html()&&""!=$("#filterResult").html()&&null==parent||$(".filteredContents").hide()),filterProducts()})),$(document).on("change","#sort_order_drop",(function(){$("#sort_value").val($(this).val()),filterProducts()})),$(document).mouseup((function(e){var container=$("#main-search");container.is(e.target)||0!==container.has(e.target).length||($(".searchResult").hide(),$(".searchResultMobile").hide())})),$(document).on("click","#searchBtn",(function(e){e.preventDefault();var search_param=$("#main-search").val();search_param&&(window.location.href=base_url+"/search/"+search_param)})),$(document).on("keyup","#main-search",(function(){var search_param;desktopSearch($(this).val())})),$(document).on("change",".shipping-value-change",(function(e){$(document).find("span.invalid-feedback").text("fdd"),e.preventDefault();var field_name=$(this).attr("name"),val=$(this).val(),addressChoose=$(".addressChoose:checked").val(),reload=$(this).data("reload");$.ajax({type:"POST",dataType:"json",data:$("#addShippingAddressForm").serialize(),headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/update-customer-shipping-address",beforeSend:function(){$(document).find("span.invalid-feedback").text("")}}).done((function(response){"same"==addressChoose&&("country"==field_name?$("#billing_"+field_name).val(val).change():$("#billing_"+field_name).val(val),"state"==field_name?$("#billing_"+field_name).val(val).change():$("#billing_"+field_name).val(val)),"true"==response.status&&1==response.reload&&($(".error").addClass("d-none"),$(".shipping_amount").text(response.default_currency+" "+response.calculation_box.shippingAmount),$(".tax_amount").text(response.default_currency+" "+response.calculation_box.tax_amount),$("#grand_total_amount").val(response.calculation_box.final_total_with_tax),$(".cart_final_total").text(response.default_currency+" "+response.calculation_box.final_total_with_tax),Toast.fire("Success",response.message,"success"),$("#confirm_payment").attr("disabled",!1),setTimeout(()=>{},1500))})).fail((function(response){$.each(response.responseJSON.errors,(function(field_name,error){var msg='<span class="error invalid-feedback" for="'+field_name+'">'+error+"</span>";$("#addShippingAddressForm").find('input[name="'+field_name+'"], select[name="'+field_name+'"], textarea[name="'+field_name+'"]').removeClass("is-valid").addClass("is-invalid").attr("aria-invalid","true").after(msg)})),"same"==addressChoose&&("country"==field_name?$("#billing_"+field_name).val(val).change():$("#billing_"+field_name).val(val))}))})),$(".range_bar_sort").on("slidechange",(function(event,ui){$("#amount").val("AED"+$("#slider-range").slider("values",0)+" - AED"+$("#slider-range").slider("values",1)),filterProducts()})),$("#amount").keyup((function(){filterProducts()})),$("#amount").keyup((function(){filterProducts()})),$(document).on("change",".currency-selection",(function(){var currency=$(this).find(":selected").data("code");$.ajax({type:"POST",dataType:"json",data:{currency:currency},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:base_url+"/currency_set",success:function(response){1==response.status?Toast.fire({title:"Done it!",text:response.message,icon:"success"}).then(result=>{location.reload()}):swal.fire({title:"Error",text:response.message,icon:"error"})}})}))}));